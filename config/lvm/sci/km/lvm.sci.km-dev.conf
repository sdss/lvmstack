# $Header: https://svn.mpia.de/gulli/TwiceAsNice/branch/unstable/TwiceAsNice/basda-mocca/examples/service/traj/trajDevice.cfg 14057 2016-11-10 14:53:04Z mathar $

LOAD                                  = [NAME=lvm.sci.km-dev, LIB=BasdaMoccaMpiaNDevice]                      # define the device name and the corresponding library
                                                                                                    # The Basdard application will search for name specified in SVN.NAME
                                                                                                    # in the DEV subtree in order to load the required device library. 
                                                                                                    # Therefore this device name need to be set at the property entry SVC.DEVICE 
                                                                                                    # in the service configuration file.
MOD.TRAJ.CFG.CONNECTION.ADDRESS          = tcp://192.168.3.32:4000                                  # connection address: tcp://HOST:PORT or tty:/dev/ttyS0:9600:8:no
MOD.TRAJ.CFG.CONNECTION.CARD             = 1                                                        # the used MoCon card
MOD.TRAJ.CFG.CONNECTION.MODULE           = 1                                                        # the used MoCon module
MOD.TRAJ.CFG.CONNECTION.TIMEOUT:Time     = 00:00:03.000000      +UNIT=hour                          # its the time how long the service should wait for a normal command response like ACK (this timeout is blocking the service but the MoCon sends the ACK immediately)
MOD.TRAJ.CFG.CONNECTION.EVENT_TIMEOUT:Time = 00:00:00.500000    +UNIT=hour                          # its the time how long the service should wait for a event message (Pay attention: this timeout blocks the service while it is waiting for an event which might not send immediately)
MOD.TRAJ.CFG.DATASHEET.CONFIG            = lvm/common/datasheetStepper.cfg                                     # enter the motor datasheet config file here either with absolute path or 
                                                                                                    # just the config file. The TwiceAsNice parser will try to locate the file.
MOD.TRAJ.CFG.DATASHEET.TRAVELRANGE:Point = [0, 1900000]  +UNIT=steps  +LABEL=["MIN", "MAX"]             # travel range determined. TB 2017-04-07


CFG.POSITION.AUTOUPDATE:Int          = 0                                                            # device configuration parameter to define which position value should be periodically updated
                                                                                                    # default: 0 MoCon internal software Encoder
                                                                                                    #          1 incremental Encoder
                                                                                                    #          2 absolute Encoder
                                                                                                    #          3 MoCon internal software Encoder + incremental Encoder
                                                                                                    #          4 MoCon internal software Encoder + absolute Encoder
                                                                                                    #          5 incremental Encoder + absolute Encoder
                                                                                                    #          6 MoCon internal software Encoder + incremental Encoder + absolute Encoder
CFG.POSITION.REPORT:Int              = 0                                                            # device configuration parameter to define which position value should be returned by 
                                                                                                    # getPosition or displayed in the GUI
                                                                                                    # default: 0 MoCon internal software Encoder
                                                                                                    #          1 incremental Encoder
                                                                                                    #          2 absolute Encoder
CFG.POSITION.UNIT                    = STEPS                                                        # device configuration parameter to define in which unit the position value should be returned.
                                                                                                    

                 CFG.NAMED_POS.ABS.0:Double            = 1980825      +LABEL=["NP"] +NAME:String = "horizontal 93deg"
CFG.NAMED_POS.ABS.1:Double            = 78000         +LABEL=["NP"] +NAME:String = "vertical 3deg"
CFG.NAMED_POS.ABS.2:Double            = 106496        +LABEL=["NP"] +NAME:String = "5 deg"
CFG.NAMED_POS.ABS.3:Double            = 212992        +LABEL=["NP"] +NAME:String = "10 deg"
CFG.NAMED_POS.ABS.4:Double            = 319488        +LABEL=["NP"] +NAME:String = "15 deg"
CFG.NAMED_POS.ABS.5:Double            = 425984        +LABEL=["NP"] +NAME:String = "20 deg"
CFG.NAMED_POS.ABS.6:Double            = 638976        +LABEL=["NP"] +NAME:String = "30 deg"
CFG.NAMED_POS.ABS.7:Double            = 851967        +LABEL=["NP"] +NAME:String = "40 deg"
CFG.NAMED_POS.ABS.8:Double            = 1064960       +LABEL=["NP"] +NAME:String = "50 deg"
CFG.NAMED_POS.ABS.9:Double            = 1277952       +LABEL=["NP"] +NAME:String = "60 deg"
CFG.NAMED_POS.ABS.10:Double           = 1490944       +LABEL=["NP"] +NAME:String = "70 deg"
CFG.NAMED_POS.ABS.11:Double           = 1703936       +LABEL=["NP"] +NAME:String = "80 deg"

CFG.NAMED_POS.REL.0:Double            = 100          +LABEL=["NP"] +NAME:String = "Rel. 0"
CFG.NAMED_POS.REL.1:Double            = 200          +LABEL=["NP"] +NAME:String = "Rel. 1"
CFG.NAMED_POS.REL.2:Double            = 300          +LABEL=["NP"] +NAME:String = "Rel. 2"

CFG.TRANS.STEPS:Point                = [1, 0]         +LABEL=["Scale", "Offset"] +PREC=0             # m11, dx - scale X, offset x

# m11, dx - scale X, offset x: Scale 360/(41.6 * 512*4 *90) [Gear ratio, encoder, rotation stage]
# The factor of beam rotation over physical rotation is not yet incorporated, because rotation
# of the mirror axis by 1 degrees rotates the beam on the sky by 2 degres. .RJM 2016-11-10
CFG.TRANS.DEGREE:Point               = [4.695012019230769e-05,0]   +LABEL=["Scale", "Offset"] +PREC=2
CFG.TRANS.RAD:Point               = [8.19434181563e-07,0]   +LABEL=["Scale", "Offset"] +PREC=2

